<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>로이가 만든 유튜브 채널 모니터</title>
    <link rel="icon" href="favicon.ico"/>
    <link rel="stylesheet" href="style.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.45/moment-timezone-with-data.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.2/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
</head>
<body class="light">
    <div class="container">
        <h1>로이가 만든 유튜브 채널 모니터</h1>
        <div id="loading" class="loader"></div>
        <div class="header">
            <div class="row">
                <button id="btn-add">채널 추가</button>
                <div class="row">
                    <button id="btn-import">가져오기</button>
                    <button id="btn-export">내보내기</button>
                </div>
            </div>
            <div class="row">
                <button id="btn-api" class="api-btn">API 키 입력</button>
                <button id="btn-toggle-theme" class="toggle-btn">다크 모드</button>
            </div>
        </div>
        <div class="single-header">
            <button id="btn-analyze" class="analyze-btn">채널 분석</button>
        </div>
        <div id="main-content" class="three-col">
            <div class="col" id="channel-list-col">
                <div class="list-header">
                    <h2>채널 목록</h2>
                    <select id="sort-channels">
                        <option value="default">정렬</option>
                        <option value="title-asc">이름 ↑</option>
                        <option value="title-desc">이름 ↓</option>
                        <option value="videos-asc">영상 ↑</option>
                        <option value="videos-desc">영상 ↓</option>
                    </select>
                </div>
                <div id="channel-list" class="list"></div>
            </div>
            <div class="col" id="mutant-video-col">
                <div class="list-header">
                    <h2>변이 영상</h2>
                    <select id="sort-mutants">
                        <option value="default">정렬</option>
                        <option value="views-asc">조회수 ↑</option>
                        <option value="views-desc">조회수 ↓</option>
                        <option value="title-asc">이름 ↑</option>
                        <option value="title-desc">이름 ↓</option>
                    </select>
                </div>
                <div id="mutant-video-list" class="list"></div>
            </div>
            <div class="col" id="latest-video-col">
                <div class="list-header">
                    <h2>최신 영상</h2>
                    <select id="sort-latest">
                        <option value="default">정렬</option>
                        <option value="date-asc">날짜 ↑</option>
                        <option value="date-desc">날짜 ↓</option>
                        <option value="views-asc">조회수 ↑</option>
                        <option value="views-desc">조회수 ↓</option>
                    </select>
                </div>
                <div id="latest-video-list" class="list"></div>
            </div>
        </div>
        
        <div id="modal-api" class="modal">
            <div class="modal-content">
                <span class="close">×</span>
                <h2>YouTube API 키 입력</h2>
                <p>API 키를 1개 이상 5개까지 입력할 수 있으며, 할당량 소진 시 자동으로 다음 키를 사용합니다.</p>
                <div id="api-key-inputs">
                    <input type="text" id="api-key-1" placeholder="API Key 1"/>
                    <input type="text" id="api-key-2" placeholder="API Key 2"/>
                    <input type="text" id="api-key-3" placeholder="API Key 3"/>
                    <input type="text" id="api-key-4" placeholder="API Key 4"/>
                    <input type="text" id="api-key-5" placeholder="API Key 5"/>
                </div>
                <div class="row" style="margin-top: 10px;">
                    <input type="file" id="api-file-upload" accept=".txt" style="display: none;"/>
                    <button id="btn-upload-api" class="api-btn">업로드(.txt)</button>
                    <button id="save-api-keys">저장</button>
                    <button id="btn-download-api" class="api-btn">다운로드</button>
                </div>
            </div>
        </div>
        
        <div id="modal-add" class="modal">
            <div class="modal-content">
                <span class="close">×</span>
                <h2>채널 추가</h2>
                <input type="text" id="channel-id-input" placeholder="채널 ID 또는 URL"/>
                <button id="add-channel">추가</button>
            </div>
        </div>
        <div id="modal-analyze" class="modal">
            <div class="modal-content">
                <span class="close">×</span>
                <h2>채널 분석</h2>
                <select id="analyze-channel-select"></select>
                <button id="start-analysis">분석 시작</button>
                <div id="analysis-result">
                    <h3>분석 결과</h3>
                    <div id="analysis-stats" class="analysis-stats"></div>
                    <canvas id="analysis-chart-views" width="400" height="200"></canvas>
                    <canvas id="analysis-chart-comments" width="400" height="200"></canvas>
                    <canvas id="analysis-chart-likes" width="400" height="200"></canvas>
                    <canvas id="analysis-chart-duration" width="400" height="200"></canvas>
                </div>
            </div>
        </div>
        <div id="toast" class="toast"></div>
    </div>
    <script src="utils.js"></script>
    <script src="db.js"></script>
    <script src="api.js"></script>
    <script src="channels.js"></script>
    <script src="videos.js"></script>
    <script src="analysis.js"></script>
    <script src="main.js"></script>
</body>
</html>
