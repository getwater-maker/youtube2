/* 테마 변수 */
:root {
  --brand: #c4302b;
  --bg: #f6f7fb;
  --card: #fff;
  --muted: #888;
  --shadow: 0 6px 22px rgba(0,0,0,.07);
  --pastel1: #fff6f1;
  --pastel2: #f1fbff;
  --pastel3: #f8fff4;
  --text: #333;
  --border: #f0f0f0;
  --placeholder: #ccc;
  --modal-bg: rgba(0,0,0,.45);
}

/* 나이트 모드 변수 */
body.dark {
  --bg: #1e1e1e;
  --card: #2d2d2d;
  --muted: #b0b0b0;
  --shadow: 0 6px 22px rgba(0,0,0,.3);
  --pastel1: #4a3e3d;
  --pastel2: #3e4a4e;
  --pastel3: #424a40;
  --text: #e0e0e0;
  --border: #3c3c3c;
  --placeholder: #555;
  --modal-bg: rgba(255,255,255,.15);
}

/* 나이트 모드 스크롤바 */
body.dark::-webkit-scrollbar { width: 10px; }
body.dark::-webkit-scrollbar-track { background: #2d2d2d; }
body.dark::-webkit-scrollbar-thumb { background-color: #555; border-radius: 6px; border: 2px solid #2d2d2d; }
body.dark::-webkit-scrollbar-thumb:hover { background-color: #666; }

/* 기본 스타일 */
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Arial,Helvetica,sans-serif;
  line-height:1.55;
  transition: background-color 0.3s, color 0.3s;
}
.container{max-width:1440px;margin:24px auto;background:var(--card);padding:22px;border-radius:16px;box-shadow:var(--shadow)}
h1{margin:6px 0 14px;text-align:center;color:var(--brand)}
.single-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;gap:8px;}
.single-header .row{gap:8px;}
.api-btn, .analyze-btn, .toggle-btn{background:var(--brand);color:#fff;border:0;border-radius:8px;padding:8px 14px;cursor:pointer}
.toggle-btn{background:#6c757d;}
.three-col{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px}
@media (max-width:900px){.three-col{grid-template-columns:1fr}}
.col{background:var(--card);border-radius:14px;box-shadow:var(--shadow);padding:14px;display:flex;flex-direction:column;gap:10px}
.col-head{display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid var(--border);padding-bottom:8px;cursor:grab}
.col-actions{display:flex;gap:8px;align-items:center}
.sort-row{display:flex;justify-content:flex-end}
.sort-row select{padding:6px 10px;border:1px solid var(--border);border-radius:6px;background:var(--card);color:var(--text);}
.muted{color:var(--muted);text-align:center}

/* 채널 카드 */
.channel-list{display:flex;flex-direction:column;gap:10px}
.channel-card{
  display:grid;
  grid-template-columns:56px 1fr auto;
  gap:12px;
  align-items:center;
  border:1px solid var(--border);
  background:var(--bg);
  border-radius:12px;
  padding:12px
}
.channel-thumb{width:56px;height:56px;border-radius:50%;object-fit:cover;background:var(--bg)}
.channel-thumb-link{display:block;border-radius:50%}
.channel-meta h3{margin:0 0 4px 0;font-weight:800}
.channel-title-link{color:var(--brand);text-decoration:none}
.channel-title-link:hover{text-decoration:underline}
.channel-meta .row{display:flex;gap:10px;flex-wrap:wrap;font-size:13px}
.channel-meta .latest{font-size:12px;color:var(--muted)}
.channel-actions{display:flex;gap:6px;justify-content:flex-end}
.btn{border:1px solid var(--border);background:var(--bg);color:var(--brand);border-radius:6px;padding:6px 10px;cursor:pointer;transition:all 0.3s;}
.btn:hover{background:var(--brand);color:#fff}
.btn-danger{background:#dc3545;color:#fff;border:none}

/* 인사이트를 카드 하단 전체폭으로 */
.channel-insights{grid-column:1 / -1;margin-top:6px}
.insights{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px 12px;font-size:12px}
@media (max-width:1000px){.insights{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:600px){.insights{grid-template-columns:1fr}}
.insights .k{color:var(--muted)}.insights .v{font-weight:600}

/* 영상 카드 */
.video-list{display:flex;flex-direction:column;gap:12px}
.video-card{border-radius:14px;box-shadow:var(--shadow);overflow:hidden}
.video-card:nth-child(3n+1){background:var(--pastel1)}
.video-card:nth-child(3n+2){background:var(--pastel2)}
.video-card:nth-child(3n+3){background:var(--pastel3)}
.video-link{display:block;color:inherit;text-decoration:none;padding:12px}
.thumb-wrap{padding:10px}
.thumb{width:100%;height:auto;object-fit:contain;aspect-ratio:16/9;display:block}
.v-title{font-weight:700;margin:8px 2px 6px}
.v-meta{font-size:13px;color:var(--muted);display:flex;gap:12px;flex-wrap:wrap}
.badge{display:inline-block;background:linear-gradient(90deg,#e4002b 40%,#fdcf6f 100%);color:#fff;border-radius:14px;padding:4px 10px;font-weight:800;margin-top:8px}
.keywords{display:flex;flex-wrap:wrap;gap:6px}
.kw{font-size:12px;background:var(--border);border-radius:999px;padding:4px 8px}

/* 모달/검색 */
.modal{display:none;position:fixed;inset:0;background:var(--modal-bg);z-index:10;align-items:center;justify-content:center}
.modal .content{background:var(--card);border-radius:12px;box-shadow:0 8px 32px rgba(0,0,0,.25);padding:16px;max-width:720px;width:96%}
.modal .close{float:right;font-size:22px;color:var(--muted);cursor:pointer}
.api-inputs{display:grid;grid-template-columns:1fr;gap:6px;margin:8px 0}
.api-inp, .search-input{width:100%;padding:10px;border:1px solid var(--border);border-radius:8px;background:var(--card);color:var(--text);}
.api-inp::placeholder, .search-input::placeholder{color:var(--placeholder);}
.file-label{background:#6c757d;color:#fff;border-radius:8px;padding:8px 12px;display:inline-block;cursor:pointer}
.file-label input{display:none}
.tabs{display:flex;gap:6px;margin:8px 0 10px}
.tab{border:1px solid var(--border);background:var(--bg);border-radius:6px;padding:6px 10px;cursor:pointer;color:var(--text);}
.tab.active{background:var(--brand);color:#fff;border-color:var(--brand)}
.tabpanel{display:none}.tabpanel.active{display:block}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.result-list{display:flex;flex-direction:column;gap:10px;max-height:420px;overflow:auto}
.result-row{display:grid;grid-template-columns:64px 1fr auto;gap:10px;align-items:center;border:1px solid var(--border);border-radius:10px;padding:10px;cursor:pointer;background:var(--bg);}
.result-row:hover{background:var(--border)}
.r-avatar{width:64px;height:64px;border-radius:50%;object-fit:contain;background:var(--card);border:1px solid var(--border)}
.r-thumb{width:64px;height:64px;border-radius:8px;object-fit:contain;background:var(--card);border:1px solid var(--border)}
.r-title{font-weight:700;margin-bottom:3px;color:var(--text)}.r-sub{font-size:12px;color:var(--muted)}
.pagination{display:flex;gap:6px;justify-content:center;margin-top:8px}
.pagination button{padding:6px 10px;border:1px solid var(--border);background:var(--bg);color:var(--text);border-radius:6px;cursor:pointer}
.pagination button.active{background:var(--brand);color:#fff;border-color:var(--brand)}
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:24px;background:#111;color:#fff;padding:10px 14px;border-radius:10px;opacity:.95;z-index:9999;display:none}
.small{font-size:12px;color:var(--muted)}
.test-ok{color:#1db954}.test-bad{color:#c4302b}
.date-range{display:flex;gap:4px}
.date-range button{padding:4px 8px;border:1px solid var(--border);background:var(--bg);border-radius:4px;cursor:pointer;font-size:12px;color:var(--text);}
.date-range button.active{background:var(--brand);color:#fff;border-color:var(--brand)}
.error-message{color:#c4302b;background:#ffebee;padding:8px;border-radius:6px;margin:8px 0;font-size:14px}
.success-message{color:#1db954;background:#e8f5e8;padding:8px;border-radius:6px;margin:8px 0;font-size:14px}
body.dark .error-message{background:#5c2427;color:#ff8a8a;}
body.dark .success-message{background:#2b542b;color:#a5d6a7;}
